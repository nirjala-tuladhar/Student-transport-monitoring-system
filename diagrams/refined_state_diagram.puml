@startuml Refined_State_Diagram
skinparam linetype ortho
skinparam backgroundColor #FEFEFE
skinparam stateBackgroundColor #FFE6E6
skinparam stateBorderColor #DC143C
skinparam shadowing false

title Student Boarding Status - Refined State Diagram

[*] --> NotBoarded

state NotBoarded {
  NotBoarded : Student at home
  NotBoarded : Waiting for bus
}

state Approaching {
  Approaching : Bus nearby
  Approaching : ETA notification sent
}

state Boarded {
  Boarded : Student on bus
  Boarded : Parent notified
}

state Dropped {
  Dropped : Student at destination
  Dropped : Drop notification sent
}

NotBoarded --> Approaching : Bus within 5 min
Approaching --> Boarded : Student boards
Boarded --> Dropped : Student dropped off
Dropped --> NotBoarded : Next day
Boarded --> NotBoarded : Trip cancelled

@enduml

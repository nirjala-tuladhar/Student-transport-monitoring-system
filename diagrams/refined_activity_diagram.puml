@startuml Refined_Activity_Diagram
skinparam linetype ortho
skinparam backgroundColor #FEFEFE
skinparam activityBackgroundColor #FFF8DC
skinparam activityBorderColor #DAA520
skinparam activityDiamondBackgroundColor #FFE4B5
skinparam shadowing false

title Bus Driver Daily Workflow - Refined Activity Diagram

start

:Driver logs in;

:Load bus info;

:Load student list;

if (Students assigned?) then (yes)
  :Start route;
  
  :Track GPS location;
  
  repeat
    :Drive to pickup point;
    
    :Student boards bus;
    
    :Mark as "Boarded";
    
    :Send notification to parent;
    
  repeat while (More students?) is (yes)
  ->no;
  
  :Drive to school;
  
  :Arrive at school;
  
  repeat
    :Student gets off;
    
    :Mark as "Dropped";
    
    :Send notification;
    
  repeat while (More students?) is (yes)
  ->no;
  
else (no)
  :Show "No students" message;
endif

:Driver logs out;

stop

@enduml
